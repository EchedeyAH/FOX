<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml1-strict.dtd">
<html lang="en" xml:lang="en">
<head>
<title>PIO-DA16/DA8/DA4</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252" />
<meta http-equiv="pragma" content="no-cache" />
<meta http-equiv="cache-control" content="no-cache" />
<meta name="author" content="Reed Lai" />
<meta name="Keywords" content="driver,pio,pio-da" />
<meta name="Description" content="PIO-DA16/DA8/DA4 device driver for Linux" />
<meta name="generator" content="vi/vim" />
<link rel="stylesheet" type="text/css" href="default.css" />
</head>
<body>


<h1>PIO-DA16/DA8/DA4</h1>

<table width="100%"><tr>
<td><em style="color:#808080">Visitor</em> <em style="color:#F080A0">286</em></td>
<td align="right"><em style="color:#808080">Last updated</em> <em style="color:#F080A0">Wednesday, 13-Aug-2003 14:55:17 CST</em></td>
</tr></table>
<hr /><div class="navbar"><table width="100%" border="0"><tr>
<td align="left"><span style="background:#e0e0ff">[<a href="index.html"><b>IxPIO</b></a>]</span> [<a href="http://w3.icpdas.com/reed/pj/ixpci/">IxPCI</a>] [<a href="http://w3.icpdas.com/reed/pj/ixisa/">IxISA</a>] [<a href="http://w3.icpdas.com/reed/pj/ixwdt/">IxWDT</a>] [<a href="http://www.icpdas.com/">ICPDAS</a>]</td>
<td align="right">[<a href="http://w3.icpdas.com/reed/pj/pl/">Projects</a>] [<a href="http://w3.icpdas.com/reed/pj/pl/ixpio.html">Status</a>]</td>
</tr></table>
</div>

<table width="100%"><tr>
<td>
<table class="tab" cellpadding="0" cellspacing="0">
<tr><td class="title" align="center">Supported Models</td></tr>
<tr><td class="body"><a href="pio821.html">PIO-821</a><br /><a href="piod144.html">PIO-D144</a><br /><a href="piod168.html">PIO-D168</a><br /><a href="piod24.html">PIO-D24</a><br /><a href="piod48.html">PIO-D48</a><br /><a href="piod56.html">PIO-D56</a><br /><a href="piod64.html">PIO-D64</a><br /><a href="piod96.html">PIO-D96</a><br /><a href="pioda16.html">PIO-DA16/DA8/DA4</a><br /><a href="piso725.html">PISO-725</a><br /><a href="piso730.html">PISO-730</a><br /><a href="piso730a.html">PISO-730A</a><br /><a href="piso813.html">PISO-813</a><br /><a href="pisoa64.html">PISO-A64</a><br /><a href="pisoc64.html">PISO-C64</a><br /><a href="pisoda2.html">PISO-DA2</a><br /><a href="pisoenc.html">PISO-ENC300/600</a><br /><a href="pisop32a32.html">PISO-P32A32</a><br /><a href="pisop32c32.html">PISO-P32C32</a><br /><a href="pisop64.html">PISO-P64</a><br /><a href="pisop8r8.html">PISO-P8R8/P8SSR8AC/P8SSR8DC</a><br /><a href="pisops300.html">PISO-PS300</a><br /></td></tr>
</table>

</td>
<td align="right" valign="top">
<a href="http://validator.w3.org/check/referer"><img src="/reed/images/valid-xhtml10" alt="Valid XHTML 1.0!" height="31" width="88" /></a>
<a href="http://jigsaw.w3.org/css-validator/validator?uri=http://w3.icpdas.com/reed/pj/ixpio/default.css"><img style="border:0;width:88px;height:31px" src="/reed/images/vcss.gif" alt="Valid CSS!" /></a>
</td>
</tr></table>

<p>
<a href="pkg/last/HTML/">Source Codes Tour</a><br />
<a id="i_dev" href="#dev">Device File</a><br />
<a id="i_ioc" href="#ioc">ioctl Commands</a><br />
<a id="i_str" href="#str">Data Types</a><br />
<a id="i_reg" href="#reg">Registers</a><br />
<a id="i_exa" href="#exa">Examples</a><br />
</p>

<!-- Device File -->
<h3><a id="dev" href="#i_dev">Device File</a></h3>
<p>/dev/ixpio<var>n</var></p>
<p>The <var>n</var> is the PIO device number.</p>

<!-- ioctl Commands -->
<h3><a id="ioc" href="#i_ioc">ioctl Commands</a></h3>
<dl>
<dt>IXPIO_GET_INFO</dt><dd>Retrieve a device's information, and put it into the ixpio_devinfo (ixpio_devinfo_t) structure.</dd>
<dt>IXPIO_REG_READ</dt><dd>Read a specified register's value, and put the value into the ixpio_reg (ixpio_reg_t) structure.</dd>
<dt>IXPIO_REG_WRITE</dt><dd>Write a given value to a specified register.</dd>

<dt>IXPIO_SIG</dt><dd>Set an interrupt signal plan. If there already signal plans are listed, This command will remove them all then install the new one.</dd>
<dt>IXPIO_SIG_ADD</dt><dd>Add an interrupt signal plan. If there already signal plans are listed, this command will append the new one to the list.</dd>
<dt>IXPIO_SIG_DEL</dt><dd>Delete the specified signal plan.</dd>
<dt>IXPIO_SIG_DEL_ALL</dt><dd>Delete all signal plans listed in the device.</dd>

<dt>IXPIO_KEEP_ALIVE</dt><dd>This command prevent the signal plans or analog output patterns to be deleted when closing the device.</dd>
<dt>IXPIO_NO_KEEP_ALIVE</dt><dd>Cancel the KEEP_ALIVE command.</dd>

<dt>IXPIO_DIGITAL_IN</dt><dd>Read from all digital channels.</dd>
<dt>IXPIO_DIGITAL_OUT</dt><dd>Write to all digital channels.</dd>

<dt>IXPIO_ANALOG_OUT</dt><dd>The analog output command. The analog channel and data are defined in the given structure ixpio_analog.</dd>

<dt>IXPIO_ANALOG_OUT_PAT</dt><dd>Resets the analog output pattern. The analog pattern (waveform) is defined in the given structure ixpio_analog, and the output will be driven by interrupt.</dd>
<dt>IXPIO_ANALOG_OUT_PAT_ADD</dt><dd>Same as the IXPIO_ANALOG_OUT_PAT, but indtead of reseting the analog pattern, this command appends the new pattern to the last one if the old patterns are already there.</dd>
<dt>IXPIO_ANALOG_OUT_PAT_START</dt><dd>To enable a specified analog pattern for output.</dd>
<dt>IXPIO_ANALOG_OUT_PAT_STOP&nbsp;&nbsp;&nbsp;&nbsp;IXPIO_ANALOG_OUT_PAT_PAUSE</dt><dd>To disable a specified analog pattern.</dd>
<dt>IXPIO_ANALOG_OUT_PAT_DEL</dt><dd>To clear a specified analog pattern, release the allocated memory.</dd>
<dt>IXPIO_ANALOG_OUT_PAT_STATUS</dt><dd>Get a specified analog pattern status.</dd>
<dt>IXPIO_ANALOG_OUT_PAT_RETRIEVE</dt><dd>Retrieve a specified analog pattern.</dd>

<dt>IXPIO_DATA_CLEAR</dt><dd>Clears all of the analog patterns.</dd>
<dt>IXPIO_DATA_START</dt><dd>Starts to output the analog patterns.</dd>
<dt>IXPIO_DATA_STOP</dt><dd>Stop the output of the analog patterns.</dd>

</dl>

<!-- Data Structure -->
<h3><a id="str" href="#i_str">Data Types</a></h3>
<dl>
<dt>ixpio_devinfo_t</dt><dd>The data type of structure ixpio_devinfo which contains information to represent a device (card). This structure is generally used by the ioctl IXPIO_GET_INFO command.</dd>
<dt>ixpio_reg_t</dt><dd>The data type of structure ixpio_reg that contains a register's id and value. This structure is used by the ioctl IXPIO_REG* commands.</dd>

<dt>ixpio_signal_t</dt><dd>The data type of structure ixpio_signal that contains process id, signal id, and signaling condictions. This structure is used by the ioctl IXPIO_SIG* commands.</dd>

<dt>ixpio_digital_t</dt><dd>The data type of structure ixpio_digital that contains digital data and processing flags. This structure is generally used by the ioctl IXPIO_DIGITAL* commands.</dd>

<dt>ixpio_analog_t</dt><dd>The data type of structure ixpio_analog that contains the analog channelassigment and data. This structure is generally used by the ioctl IXPIO_ANALOG_OUT* commands.</dd>

</dl>

<!-- Registers -->
<h3><a id="reg" href="#i_reg">Registers</a></h3>
<p>Available registers which can be used in structure ixpio_reg for the PIO-DA16/DA8/DA4.</p>
<dl>
<dt>IXPIO_RCR</dt><dd>Reset Control Register (R/W)</dd>

<dt>IXPIO_ACR</dt><dd>AUX Control Register (R/W)</dd>
<dt>IXPIO_ADR</dt><dd>AUX Data Register (R/W)</dd>

<dt>IXPIO_IMCR</dt><dd>INT Mask Control Register (R/W)</dd>
<dt><b class="red">IXPIO_ASR</b></dt><dd>AUX Pin Status Register (R/W) <b>The ASR is directly handled by device driver. Write to the register is not recommended!</b>  Instead of directly write to it, use the IXPIO_SIG ioctl command to set the interrupt signaling condictions.</dd>
<dt><b class="red">IXPIO_IPCR</b></dt><dd>Interrupt Polarity Control Register (R/W) <b>The IPCR is directly heandled by device driver. Write to the register is not recommended!</b> Instead of directly write to it, use the IXPIO_SIG ioctl command to set the interrupt signaling condictions.</dd>

<dt>IXPIO_8254C0&nbsp;&nbsp;&nbsp;&nbsp;IXPIO_82541C0</dt><dd>8254 chip 1 counter 0 (R/W)</dd>
<dt>IXPIO_8254C1&nbsp;&nbsp;&nbsp;&nbsp;IXPIO_82541C1</dt><dd>8254 chip 1 counter 1 (R/W)</dd>
<dt>IXPIO_8254C2&nbsp;&nbsp;&nbsp;&nbsp;IXPIO_82541C2</dt><dd>8254 chip 1 counter 2 (R/W)</dd>
<dt>IXPIO_8254CW&nbsp;&nbsp;&nbsp;&nbsp;IXPIO_82541CW</dt><dd>8254 chip 1 control word (R/W)</dd>

<dt>IXPIO_DA<var>n</var>CS</dt><dd>The on board DAC chip select (W). The <var>n</var> is the DAC chip number. For example, IXPIO_DA0CS, IXPIO_DA1CS, IXPIO_DA2CS, IXPIO_DA3CS to represent the four DAC chips. The number of the DAC chips can be found from the hardware manual.</dd>

<dt>IXPIO_AOL&nbsp;&nbsp;&nbsp;&nbsp;IXPIO_DAL</dt><dd>Analog output, low byte. (W)</dd>
<dt>IXPIO_AOH&nbsp;&nbsp;&nbsp;&nbsp;IXPIO_DAH</dt><dd>Analog output, high byte. (W)</dd>

<dt>IXPIO_DL&nbsp;&nbsp;&nbsp;&nbsp;IXPIO_DIO_L</dt><dd>Digital IO, low byte</dd>
<dt>IXPIO_DH&nbsp;&nbsp;&nbsp;&nbsp;IXPIO_DIO_H</dt><dd>Digital IO, high byte</dd>

<dt>IXPIO_DI</dt><dd>The whole digital inputs (R)</dd>
<dt>IXPIO_DO</dt><dd>The whole digital outputs (W)</dd>
<dt>IXPIO_DIO</dt><dd>The whole digital IO (R/W)</dd>

</dl>

<!-- Examples -->
<h3><a id="exa" href="#i_exa">Examples</a></h3>
<dl>
<dt>list.c</dt><dd>An example for gatting device information.</dd>

<dt>pioda16/ao.c</dt>
	<dd>An example for analog output by writing to registers.</dd>
<dt>pioda16/ao2.c</dt>
	<dd>An example for analog output by the ioctl IXPIO_ANALOG_OUT command.</dd>
<dt>pioda16/ao_pat.c</dt>
	<dd>An example for analog output by interrupt driven analog patterns.</dd>
<dt>pioda16/counter.c</dt>
	<dd>An example for setting up an interrupt signaling condiction and on board 8254 counters.</dd>
<dt>pioda16/dio.c</dt>
	<dd>An example for digital output by writing to registers.</dd>
<dt>pioda16/dio2.c</dt>
	<dd>An example for digital output by the ioctl IXPIO_DIGITAL_IN/OUT commands.</dd>
</dl>

<div class="navbar"><table width="100%" border="0"><tr>
<td align="left"><span style="background:#e0e0ff">[<a href="index.html"><b>IxPIO</b></a>]</span> [<a href="http://w3.icpdas.com/reed/pj/ixpci/">IxPCI</a>] [<a href="http://w3.icpdas.com/reed/pj/ixisa/">IxISA</a>] [<a href="http://w3.icpdas.com/reed/pj/ixwdt/">IxWDT</a>] [<a href="http://www.icpdas.com/">ICPDAS</a>]</td>
<td align="right">[<a href="http://w3.icpdas.com/reed/pj/pl/">Projects</a>] [<a href="http://w3.icpdas.com/reed/pj/pl/ixpio.html">Status</a>]</td>
</tr></table>
</div>
<hr />
<address><a href="mailto:emmy@icpdas.com">Emmy Tsai &lt;emmy@icpdas.com&gt;</a> | <a href="mailto:service@icpdas.com">We are at Your Service &lt;service@icpdas.com&gt;</a></address>


</body>
</html>
